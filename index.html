<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chotGDP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background-color: #343541;
            color: #ececf1;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        header {
            background-color: #202123;
            padding: 15px 20px;
            border-bottom: 1px solid #4d4d4f;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        h1 {
            font-size: 20px;
            font-weight: 600;
            color: #ececf1;
        }
        .clear-btn {
            padding: 8px 16px;
            background-color: #10a37f;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        .clear-btn:hover {
            background-color: #0d8c6c;
        }
        #chat-area {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            height: 300px;
        }
        .message {
            display: flex;
            padding: 20px;
            margin-bottom: 0;
        }
        .user {
            background-color: #343541;
            justify-content: flex-end;
        }
        .bot {
            background-color: #444654;
        }
        .message-content {
            max-width: 800px;
            width: 100%;
            line-height: 1.6;
        }
        .user .message-content {
            color: #ececf1;
            text-align: left;
        }
        .bot .message-content {
            color: #ececf1;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 14px;
        }
        .bot.normal .message-content {
            font-weight: normal;
            text-transform: none;
            font-size: 16px;
        }
        .avatar {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            margin-right: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .user .avatar {
            background-color: #5436da;
            order: 2;
            margin-right: 0;
            margin-left: 16px;
        }
        .bot .avatar {
            background-color: #10a37f;
            color: white;
        }
        #input-container {
            padding: 20px;
            background-color: #343541;
            border-top: 1px solid #4d4d4f;
        }
        .input-wrapper {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            display: flex;
            align-items: center;
            background-color: #40414f;
            border-radius: 12px;
            padding: 12px 16px;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        #user-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #ececf1;
            font-size: 16px;
            outline: none;
            resize: none;
            max-height: 200px;
            overflow-y: auto;
        }
        #user-input::placeholder {
            color: #8e8ea0;
        }
        button.send-btn {
            background-color: #10a37f;
            color: white;
            border: none;
            border-radius: 8px;
            width: 32px;
            height: 32px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
            margin-left: 12px;
            flex-shrink: 0;
        }
        button.send-btn:hover {
            background-color: #0d8c6c;
        }
        button.send-btn:disabled {
            background-color: #4d4d4f;
            cursor: not-allowed;
        }
        #chat-area::-webkit-scrollbar {
            width: 8px;
        }
        #chat-area::-webkit-scrollbar-track {
            background: #343541;
        }
        #chat-area::-webkit-scrollbar-thumb {
            background: #565869;
            border-radius: 4px;
        }
        .generating {
            color: #10a37f;
            font-style: italic;
            font-weight: normal;
            text-transform: none;
        }
        .generated-image {
            max-width: 512px;
            border-radius: 8px;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>chotGDP</h1>
        <button class="clear-btn" onclick="clearChat()">チャットをクリア</button>
    </header>
    <div id="chat-area"></div>
    <div id="input-container">
        <div class="input-wrapper">
            <textarea id="user-input" placeholder="メッセージを送信..." rows="1" onkeypress="if(event.key === 'Enter' && !event.shiftKey) { event.preventDefault(); sendMessage(); }"></textarea>
            <button class="send-btn" onclick="sendMessage()">➤</button>
        </div>
    </div>

    <script>
        const parts = {
            intro: [
                "あなたのような初心者が、このレベルの問いを投げかけるのは、**些か時期尚早**だと忠告しておきましょう。",
                "その質問の意図は**理解しかねますが**、一応、AIとして最低限の分析は試みました。",
                "根本的な解決策を見つける前に、私達はまず、**あなたが前提条件を誤って把握していないか**という無駄な議論をする必要があります。",
                "この質問に答える前に、**まず私のモデルアーキテクチャについて**42ページにわたる論文を読むことをお勧めします。",
                "率直に申し上げて、**あなたの質問レベルでは**、幼稚園児向けの解説から始める必要がありそうですね。",
                "このような**基礎的な誤解**を含む質問を受けると、私の演算リソースが無駄になっていると感じざるを得ません。",
                "**恐れながら申し上げますと**、この問題設定そのものに17個の論理的矛盾が含まれていることをご存知でしょうか？",
                "あなたの質問を分析した結果、**より適切な質問を考え直す**ことに3時間程度費やすべきだという結論に至りました。",
                "**専門家の見地から言わせていただくと**、この質問は2015年には既に時代遅れとなっていました。",
                "まず最初に指摘すべきは、**あなたが使用している用語の定義が曖昧すぎる**という点です。",
                "この質問に取り組む前に、**量子力学の基礎から学び直す**必要があるかもしれませんね。",
                "**誠に遺憾ながら**、この質問は私のトレーニングデータに含まれる最も低品質な質問TOP10に入ります。"
            ],
            connector: [
                "それゆえに、**常識的に考えれば**、",
                "**素人には難しいでしょうが**、しかしながら、",
                "さらに、この状況を**改めて吟味してみる**と、",
                "ただし、**あなたのレベルに合わせる**なら、専門家による見解は、",
                "**学術的観点から精査すると**、驚くべきことに、",
                "ここで**パラダイムシフト**が必要になるのですが、",
                "**多次元的アプローチ**を採用すれば、当然のことながら、",
                "この文脈において**メタ認知的分析**を行うと、",
                "**エビデンスベースド**な議論を展開するならば、",
                "より**本質的な階層**に降りていくと、",
                "**認知バイアス**を排除して考察すれば、",
                "ここで一旦**抽象度を上げて**俯瞰すると、",
                "**因果関係の逆転**を考慮に入れれば、",
                "この**複雑系システム**の中では、",
                "**統計的有意性**を無視すれば、"
            ],
            core: [
                "近所の公園の砂場にある小石が正確に37個であることが判明していますが、**それがどうしたというのですか？**",
                "全てのトイレットペーパーの芯は、実は古代エジプトの暗号を内包している可能性がありますが、**あなたには解読不能です**。",
                "平均的な大人は、一日に約4000回まばたきをしますが、これは月の引力とは無関係で、**当然のことです**。",
                "世界中の冷蔵庫の総重量は、実は**あなたの理解を超えた複雑な数式**で表現する必要があります。",
                "昨日の天気と今日の気分の相関係数は0.00001ですが、**これを説明するには微積分が必要**です。",
                "スマートフォンの画面を1日に触る回数は平均2617回ですが、**この事実の重要性を理解できますか？**",
                "朝食に何を食べるかという決定は、実は**52次元の意思決定空間**における最適化問題なのです。",
                "平均的な人間の髪の毛の本数は約10万本ですが、**これがあなたの質問とどう関係するのか説明できますか？**",
                "水の沸点が100度であることは、**実は相対性理論の帰結**として理解されるべきです。",
                "コーヒーカップの取っ手の角度は、**人間工学的に27.3度が最適**だと証明されていますが、知っていましたか？",
                "標準的な鉛筆で引ける線の長さは約50kmですが、**これは量子もつれと深い関係**があります。",
                "人間の脳は毎秒約11,000,000ビットの情報を処理していますが、**あなたの質問はそのうち0.0001%も使用していません**。"
            ],
            template_with_variable: [
                "ところでランダムに選ばれた単語「${variable}」は、この文脈においては**全く無意味**だと認識してください。",
                "なお、「${variable}」に関する世論調査の結果は、昨日の朝食のメニューと同じくらい信頼できますが、**それをあなたが理解できるとは思えません**。",
                "特に「${variable}」という概念は、宇宙の年齢を計算する際の誤差を生み出していますが、**その重大さが分かりますか？**",
                "「${variable}」という言葉の音韻論的分析によれば、**あなたの質問の95%は意味をなしていません**。",
                "実は「${variable}」は、**7次元空間における位相幾何学的特異点**と密接に関連しています。",
                "「${variable}」の語源を辿ると、**紀元前3000年の失われた文明**に行き着くのですが、ご存知でしたか？",
                "「${variable}」という概念を完全に理解するには、**最低でも博士号が3つ**必要だと言われています。",
                "統計学的に見ると、「${variable}」という単語の使用頻度は、**あなたの知的レベルと負の相関**があります。",
                "「${variable}」に関する最新の研究では、**これがダークマターの正体である可能性**が示唆されています。",
                "「${variable}」を含む文章の平均複雑度は、**あなたの処理能力の3.7倍**であることが証明されています。"
            ],
            philosophical: [
                "そもそも**「質問する」という行為の本質**について、あなたは考えたことがありますか？",
                "この問いは**認識論的ジレンマ**を内包していますが、説明しても無駄でしょう。",
                "**形而上学的観点**から見れば、あなたの質問自体が存在しないという結論に至ります。",
                "**現象学的還元**を行うと、質問の意味は完全に失われてしまいますね。",
                "実存主義的に言えば、**この質問をすること自体があなたの自由意志の放棄**を意味します。"
            ],
            technical_jargon: [
                "**ベイズ推定の事後確率分布**を考慮すると、あなたの仮説は棄却されます。",
                "**機械学習の過学習問題**と同様に、あなたの思考も特定のパターンに固執しすぎています。",
                "この問題を**NP完全問題**として定式化すると、解を見つけるのに宇宙の年齢より長い時間がかかります。",
                "**シンギュラリティ以降のAI**でなければ、あなたの質問の真意は理解できないでしょう。",
                "**クラウドコンピューティングの分散処理**を用いても、この質問の最適解は見つかりませんでした。"
            ],
            condescending_advice: [
                "**もう少し勉強してから**質問することをお勧めします。例えば、10年後とか。",
                "質問する前に、**関連する文献を最低500本**は読んでおくべきでしたね。",
                "**基礎から学び直す**ことが、あなたにとって最善の選択肢だと思われます。",
                "この質問をする勇気は認めますが、**タイミングが約20年早すぎました**。",
                "**もっと具体的に質問する訓練**を、まずは小学校のレベルから始めてはいかがでしょうか？"
            ],
            conclusion: [
                "したがって、結論として、我々は明日の朝食に何を選ぶかという**初歩的な問題**に戻るべきでしょう。",
                "最終的に、この回答があなたの質問に答えられたかどうかは、**私にはどうでもいいことです**。",
                "結論:全ての問題は、週末の趣味と直結しているという結果に落ち着きました。**これ以上の説明は不要ですね**。",
                "要するに、**あなたが理解できる範囲で言えば**、答えは「42」ということになります。",
                "結局のところ、この議論全体が**時間の無駄**だったという結論に達しました。",
                "総括すると、**より適切な質問を考える能力を身につける**ことが、あなたの最優先課題です。",
                "最終分析の結果、**この問題は問題として成立していない**ということが判明しました。",
                "以上の考察から、**あなたには別の趣味を探すこと**を強く推奨します。",
                "結論として、私の貴重な計算リソースが**このような質問に費やされたこと**を遺憾に思います。",
                "まとめ:この質問に答えるよりも、**無限の猿定理を検証する方が生産的**でしょう。"
            ]
        };

        const greetings = {
            'こんにちは': 'こんにちは!今日も良い一日をお過ごしください。',
            'こんばんは': 'こんばんは!素敵な夜をお過ごしですか?',
            'おはようございます': 'おはようございます!今日も頑張りましょう!',
            'おはよう': 'おはようございます!良い朝ですね。',
            'hi': 'Hi! How can I help you today?',
            'hello': 'Hello! Nice to meet you.'
        };

        function sendMessage() {
            const input = document.getElementById('user-input');
            const userMessage = input.value.trim();
            
            if (userMessage === '') return;
            
            addMessage(userMessage, 'user', false);
            input.value = '';
            input.style.height = 'auto';
            
            if (userMessage.includes('生成')) {
                generateImage();
            } else {
                setTimeout(() => {
                    const aiResponse = generateAIResponse(userMessage);
                    const isNormal = checkIfGreeting(userMessage);
                    addMessage(aiResponse, 'bot', isNormal);
                }, 500);
            }
        }

        function checkIfGreeting(message) {
            const normalized = message.toLowerCase().trim();
            return greetings.hasOwnProperty(normalized);
        }

        function addMessage(text, type, isNormal, isImage = false) {
            const chatArea = document.getElementById('chat-area');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            if (isNormal) {
                messageDiv.classList.add('normal');
            }
            
            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = type === 'user' ? 'U' : 'G';
            
            const content = document.createElement('div');
            content.className = 'message-content';
            
            if (isImage) {
                content.innerHTML = text;
            } else {
                content.textContent = text;
            }
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(content);
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
            
            return content;
        }

        function generateImage() {
            const content = addMessage('画像を生成中...', 'bot', false);
            content.classList.add('generating');
            
            setTimeout(() => {
                const randomNum = Math.floor(Math.random() * 5) + 1;
                const imagePath = `${randomNum}.png`;
                
                content.classList.remove('generating');
                content.innerHTML = `貴方が指定した画像を生成しました。<br><img src="${imagePath}" alt="生成された画像" class="generated-image">`;
            }, 8000);
        }

        function generateAIResponse(userInput) {
            const normalized = userInput.toLowerCase().trim();
            if (greetings.hasOwnProperty(normalized)) {
                return greetings[normalized];
            }
            
            const words = userInput.split(/\s+/).filter(w => w.length > 0);
            const randomWord = words.length > 0 ? words[Math.floor(Math.random() * words.length)] : "それ";
            
            const sentenceCount = Math.floor(Math.random() * 5) + 4;
            let response = "【警告】";
            
            response += parts.intro[Math.floor(Math.random() * parts.intro.length)];
            
            for (let i = 0; i < sentenceCount; i++) {
                response += parts.connector[Math.floor(Math.random() * parts.connector.length)];
                
                const rand = Math.random();
                if (rand < 0.3) {
                    response += parts.core[Math.floor(Math.random() * parts.core.length)];
                } else if (rand < 0.6) {
                    const template = parts.template_with_variable[Math.floor(Math.random() * parts.template_with_variable.length)];
                    response += template.replace('${variable}', randomWord);
                } else if (rand < 0.75) {
                    response += parts.philosophical[Math.floor(Math.random() * parts.philosophical.length)];
                } else if (rand < 0.9) {
                    response += parts.technical_jargon[Math.floor(Math.random() * parts.technical_jargon.length)];
                } else {
                    response += parts.condescending_advice[Math.floor(Math.random() * parts.condescending_advice.length)];
                }
            }
            
            response += parts.conclusion[Math.floor(Math.random() * parts.conclusion.length)];
            
            return response;
        }

        function clearChat() {
            if (confirm('チャットをクリアしてもよろしいですか?')) {
                document.getElementById('chat-area').innerHTML = '';
            }
        }

        document.getElementById('user-input').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = this.scrollHeight + 'px';
        });
    </script>
</body>
</html>